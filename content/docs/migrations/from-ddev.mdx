---
title: Migrate from DDEV
description: Switch from DDEV to DAMP
---

import { Steps, Step } from "fumadocs-ui/components/steps";

## Migration Steps

<Steps>

<Step>
**Stop DDEV**

Stop all DDEV containers:

```bash
# In your project directory
ddev stop

# Or remove completely
ddev delete -O
```

</Step>

<Step>
**Add Project to DAMP**

1. Launch DAMP
2. Click "Add Project"
3. Select "Existing Project"
4. Configure:
   - **Name**: Your project name
   - **Path**: Your project folder
   - **PHP Version**: Match `.ddev/config.yaml` (check `php_version`)

</Step>

<Step>
**Install Services**

Check your `.ddev/config.yaml` and install equivalent services:

- **MySQL** - For database (`db` service with MySQL)
- **PostgreSQL** - For database (`db` service with PostgreSQL)
- **Redis** - For caching/queues (`redis` addon)
- **Mailpit** - For email testing (`mailhog` equivalent)

Go to Services page → Click "Install" for each service.

</Step>

<Step>
**Migrate Database (Optional)**

If you have existing data, export and import:

**Option 1: Command Line**

```bash
# Export from DDEV
ddev export-db --file=backup.sql.gz

# Import to DAMP (inside VS Code DevContainer)
gunzip < backup.sql.gz | mysql -h damp-mysql -u damp -pdamp damp

# Or if uncompressed SQL
mysql -h damp-mysql -u damp -pdamp damp < backup.sql
```

**Option 2: GUI Tools**

Use database management tools like TablePlus, DBeaver, or HeidiSQL:

1. **Export from DDEV**: Connect to `localhost:3306`, export database as SQL
2. **Import to DAMP**: Get MySQL port from DAMP Services page, connect to `localhost:{port}`, import SQL file

Connection details for DAMP MySQL:

- **Host**: `localhost`
- **Port**: Check DAMP app (Services page)
- **Username**: `damp`
- **Password**: `damp`
- **Database**: `damp`

</Step>

<Step>
**Update Configuration**

Open project in VS Code DevContainer and update `.env`:

```
# Update database connection
DB_HOST=damp-mysql
DB_DATABASE=damp
DB_USERNAME=damp
DB_PASSWORD=damp

# Update Redis (if using)
REDIS_HOST=damp-redis

# Update Mail (if using)
MAIL_HOST=damp-mailpit
MAIL_PORT=1025
```

</Step>

<Step>
**Clean Up DDEV Files (Optional)**

After verifying everything works, you can remove:

```
.ddev/
```

Update `.gitignore` to remove `.ddev` reference.

</Step>

<Step>
**Test Project**

1. Click "Open in VS Code" in DAMP
2. Reopen in Container when prompted
3. Browse to `https://yourproject.local`
4. Install SSL certificate if prompted

</Step>

</Steps>

## Configuration Changes

### Generated Files

DAMP adds these files to your project:

```
your-project/
├── .devcontainer/
│   └── devcontainer.json
├── .vscode/
│   └── launch.json
├── Dockerfile
├── docker-compose.yml
└── .dockerignore
```

### Service Hostnames

Service names are automatically generated by Docker. Get actual service names and ports from the DAMP app (Services page).

Default pattern:

| Service  | DDEV             | DAMP           |
| -------- | ---------------- | -------------- |
| Database | `db`             | `damp-mysql`   |
| Redis    | `redis`          | `damp-redis`   |
| Mail     | `localhost:1025` | `damp-mailpit` |

### Domain Format

| Tool | Format                      |
| ---- | --------------------------- |
| DDEV | `https://project.ddev.site` |
| DAMP | `https://project.local`     |

### Commands

| Task     | DDEV            | DAMP                      |
| -------- | --------------- | ------------------------- |
| Start    | `ddev start`    | Automatic in DevContainer |
| SSH      | `ddev ssh`      | Use VS Code terminal      |
| Composer | `ddev composer` | `composer`                |
| Artisan  | `ddev artisan`  | `php artisan`             |
| npm      | `ddev npm`      | `npm`                     |
| MySQL    | `ddev mysql`    | `mysql -h damp-mysql`     |

Run commands directly in DevContainer (no wrapper needed).

## Troubleshooting

<Accordions>
  <Accordion title="DDEV Containers Still Running">
  Port conflicts with DAMP:
  ```bash
  ddev poweroff  # Stop ALL DDEV projects
  docker ps      # Verify no DDEV containers running
  ```
  </Accordion>
  <Accordion title="Database Import Failed">
  SQL import errors:
  1. Check if database exists in DDEV export
  2. Try importing table by table
  3. Use `--force` flag:
     ```bash
     mysql -h damp-mysql -u damp -pdamp damp --force < backup.sql
     ```
  </Accordion>
  <Accordion title="Missing PHP Extensions">
  Extension from DDEV not available:
  1. Check `.ddev/config.yaml` for `webimage_extra_packages`
  2. Add to `.devcontainer/Dockerfile`:
     ```dockerfile
     RUN apt-get update && apt-get install -y libmagickwand-dev && docker-php-ext-install imagick
     ```
  3. Rebuild: Ctrl+Shift+P → "Rebuild Container"
  </Accordion>
  <Accordion title="Custom DDEV Commands">
  Need DDEV custom commands:

Recreate as VS Code tasks in `.vscode/tasks.json`:

```json
{
  "label": "Deploy",
  "type": "shell",
  "command": "php artisan migrate --force && php artisan cache:clear"
}
```

  </Accordion>
</Accordions>
