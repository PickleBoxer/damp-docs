---
title: Migrate from Laravel Sail
description: Switch from Sail to DAMP
---

import { Steps, Step } from "fumadocs-ui/components/steps";

## Migration Steps

<Steps>

<Step>
**Stop Sail**

Stop all Sail containers:

```bash
# In your project directory
./vendor/bin/sail down
```

</Step>

<Step>
**Add Project to DAMP**

1. Launch DAMP
2. Click "Add Project"
3. Select "Existing Project"
4. Configure:
   - **Name**: Your project name
   - **Path**: Your project folder
   - **PHP Version**: Match your `docker-compose.yml` PHP version

</Step>

<Step>
**Install Services**

Check your `docker-compose.yml` and install equivalent services:

- **MySQL** - For database (`mysql` service)
- **Redis** - For caching/queues (`redis` service)
- **Meilisearch** - For search (`meilisearch` service)
- **Mailpit** - For email testing (`mailpit` service)

Go to Services page → Click "Install" for each service.

</Step>

<Step>
**Migrate Database (Optional)**

If you have existing data, export and import:

**Option 1: Command Line**

```bash
# Export from Sail
./vendor/bin/sail mysql -u sail -p sail > backup.sql

# Import to DAMP (inside VS Code DevContainer)
mysql -h damp-mysql -u damp -pdamp damp < backup.sql
```

**Option 2: GUI Tools**

Use database management tools like TablePlus, DBeaver, or HeidiSQL:

1. **Export from Sail**: Connect to `localhost:3306`, export database as SQL
2. **Import to DAMP**: Get MySQL port from DAMP Services page, connect to `localhost:{port}`, import SQL file

Connection details for DAMP MySQL:

- **Host**: `localhost`
- **Port**: Check DAMP app (Services page)
- **Username**: `damp`
- **Password**: `damp`
- **Database**: `damp`

</Step>

<Step>
**Update Configuration**

Open project in VS Code DevContainer and update `.env`:

```
# Update database connection
DB_HOST=damp-mysql
DB_DATABASE=damp
DB_USERNAME=damp
DB_PASSWORD=damp

# Update Redis (if using)
REDIS_HOST=damp-redis

# Update Meilisearch (if using)
MEILISEARCH_HOST=http://damp-meilisearch:7700

# Update Mail (if using)
MAIL_HOST=damp-mailpit
MAIL_PORT=1025
```

</Step>

<Step>
**Clean Up Sail Files (Optional)**

After verifying everything works, you can remove:

```
docker-compose.yml
docker/
```

</Step>

<Step>
**Test Project**

1. Click "Open in VS Code" in DAMP
2. Reopen in Container when prompted
3. Browse to `https://yourproject.local`
4. Install SSL certificate if prompted

</Step>

</Steps>

## Configuration Changes

### Generated Files

DAMP adds these files to your project:

```
your-project/
├── .devcontainer/
│   └── devcontainer.json
├── .vscode/
│   └── launch.json
├── Dockerfile
├── docker-compose.yml
└── .dockerignore
```

### Service Hostnames

Service names are automatically generated by Docker. Get actual service names and ports from the DAMP app (Services page).

Default pattern:

| Service     | Sail          | DAMP               |
| ----------- | ------------- | ------------------ |
| Database    | `mysql`       | `damp-mysql`       |
| Redis       | `redis`       | `damp-redis`       |
| Meilisearch | `meilisearch` | `damp-meilisearch` |
| Mail        | `mailpit`     | `damp-mailpit`     |

### Domain Format

| Tool | Format                  |
| ---- | ----------------------- |
| Sail | `http://localhost`      |
| DAMP | `https://project.local` |

### Commands

| Task     | Sail                         | DAMP                  |
| -------- | ---------------------------- | --------------------- |
| Artisan  | `./vendor/bin/sail artisan`  | `php artisan`         |
| Composer | `./vendor/bin/sail composer` | `composer`            |
| npm      | `./vendor/bin/sail npm`      | `npm`                 |
| MySQL    | `./vendor/bin/sail mysql`    | `mysql -h damp-mysql` |

Run commands directly in DevContainer (no wrapper needed).

## Troubleshooting

<Accordions>
  <Accordion title="Port Already in Use">
    Sail containers still running: ```bash ./vendor/bin/sail down --volumes
    docker ps # Verify no containers running ```
  </Accordion>
  <Accordion title="Database Connection Failed">
    Can't connect to MySQL: 1. Verify MySQL service is installed in DAMP 2.
    Check `.env` has `DB_HOST=damp-mysql` 3. Restart DevContainer
  </Accordion>
  <Accordion title="Missing Data">
    Database is empty: 1. Export data from Sail (see Step 4) 2. Import to DAMP
    database 3. Or run migrations: `php artisan migrate:fresh --seed`
  </Accordion>
</Accordions>
