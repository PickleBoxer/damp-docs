---
title: Caddy Web Server
description: Required reverse proxy with automatic HTTPS
icon: Server
---

Required reverse proxy service that powers all DAMP sites with automatic HTTPS certificates.

<Callout type="info">
  Caddy is essential for routing traffic to your sites and provides automatic SSL certificate generation.
</Callout>

## Docker Configuration

```yaml
Image: caddy:latest
Ports:
  - 80:80   # HTTP
  - 443:443 # HTTPS
Volumes:
  - damp_caddy_data:/data
  - damp_caddy_config:/config
```

<Callout type="info">
  DAMP identifies the service using Docker labels. Container name is auto-generated by Docker.
</Callout>

### Port Configuration

Default ports:
- HTTP: `80` (host) → `80` (container)
- HTTPS: `443` (host) → `443` (container)

If either port is occupied on the host machine, DAMP automatically uses the next available port. Check the DAMP interface to see the actual ports assigned.

## What Caddy Handles

- Automatic SSL certificate generation for .local domains
- Reverse proxy routing requests to your sites
- HTTP/2 support
- Configuration updates without downtime

## Connection Information

### From Host Machine (Windows)

**HTTP:**
```
http://localhost
```

**HTTPS (with valid certificate for .local domains):**
```
https://myproject.local
```

### From Project Containers

Use the container name or ID shown in the DAMP interface.

```bash
# Access Caddy API (if enabled)
curl http://[container-name]:2019/config/
```

Replace `[container-name]` with the actual container name displayed in DAMP.

## Certificate Management

Caddy automatically generates SSL certificates for all .local domains. View certificates in DAMP's Services page.

DAMP displays:
- Domain name
- Expiration date
- Certificate status

### Trust Certificates

To trust Caddy's CA certificate on your system:

1. Click "Install Certificate" in DAMP
2. Windows will prompt for UAC elevation
3. Certificate installed to system trust store
4. Browse to https://yoursite.local without warnings

## How Sites Use Caddy

When you create a site, DAMP automatically:

1. Updates Caddy configuration
2. Creates reverse proxy rules
3. Generates SSL certificate for the domain
4. Reloads Caddy (zero downtime)

```
┌─────────────────────────────────────────┐
│   Browser: https://myproject.local      │
└────────────┬────────────────────────────┘
             │
             ↓
┌─────────────────────────────────────────┐
│   Caddy                                 │
│   - Terminates SSL                      │
│   - Reads Caddyfile config              │
│   - Routes to correct container         │
└────────────┬────────────────────────────┘
             │
             ↓
┌─────────────────────────────────────────┐
│   Site DevContainer                     │
│   - Receives plain HTTP on port 80      │
│   - PHP application responds            │
└─────────────────────────────────────────┘
```

## Caddyfile Location

Caddy configuration is stored in the `damp_caddy_config` volume:

```
/config/caddy/Caddyfile
```

DAMP automatically manages this file.